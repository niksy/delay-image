/*! kist-delayimages 0.3.8 - Delay images via postpone or lazyload. | Author: Ivan NikoliÄ‡ <niksy5@gmail.com> (http://ivannikolic.com/), 2014 | License: MIT */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self);var c=b;c=c.jQuery||(c.jQuery={}),c=c.fn||(c.fn={}),c.delayImages=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){(function(a){var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports={$doc:c(document),setup:function(){this.$el=c(this.element),this.$el.addClass(this.options.classes.image)},destroy:function(){c.each(this.options.classes,c.proxy(function(a,b){this.$el.removeClass(b)},this))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b){(function(c){function d(a){return"postpone"===a.method?j?h:i:h}var e="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,f=a(5),g=a(11)(f.publicMethods),h=a(4),i=a(7),j="Modernizr"in window&&Modernizr.proxybrowser||/Opera Mini|Silk/i.test(navigator.userAgent),k=b.exports=function(a){if(a=a||{},g(a))return this.each(function(){var b=e.data(this,f.name);b&&b[a]()});a="object"==typeof a?a:{};var b=d(a),c=this.filter(function(){return!e.data(this,f.name)&&e(this).is("img")});return c.length&&c.data(f.name,new b(c,a)),this};k.defaults={lazyload:h.prototype.defaults,postpone:i.prototype.defaults}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(a,b){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(5),f=0;b.exports={setup:function(){this.uid=f++,this.ens=e.ns.event+"."+this.uid},destroy:function(){this.$el.each(function(a,b){d.removeData(b,e.name)})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(a,b){(function(c){{var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(8),f=("undefined"!=typeof window?window.$.kist.loader:"undefined"!=typeof c?c.$.kist.loader:null).loadImage,g=a(5),h=a(3),i=a(1),j=a(6),k=a(10)(g.name);b.exports=e.extend({constructor:function(a,b){this.element=a,this._element=a.toArray(),this.options=d.extend(!0,{},this.defaults,b),h.setup.call(this),i.setup.call(this),this.parse(this.$el).done(d.proxy(this._init,this))},_init:function(a){j.call(this,a)},parse:function(a){k(this,"start",[a],i.$doc);var b=[],c=d.Deferred();return a.addClass(this.options.classes.isLoading),a.each(d.proxy(function(a,c){c=d(c),b.push(f(c.data(this.options.srcDataProp))),b[b.length-1].always(d.proxy(this.success,this,c))},this)),d.when.apply(window,b).always(function(){c.resolve(a)}),c.promise()},success:function(a){a.attr({src:a.data(this.options.srcDataProp),alt:a.data(this.options.altDataProp)}).removeClass(this.options.classes.isLoading).addClass(this.options.classes.isLoaded)},destroy:function(){i.destroy.call(this),h.destroy.call(this)},defaults:{success:d.noop,start:d.noop,srcDataProp:"src",altDataProp:"alt",classes:{image:g.ns.htmlClass+"-image",isLoading:"is-loading",isLoaded:"is-loaded"}}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(a,b){b.exports={name:"delayImages",ns:{htmlClass:"kist-DelayImages",event:".kist.delayImages"},publicMethods:["destroy"]}},{}],6:[function(a,b){var c=a(1),d=a(5),e=a(10)(d.name);b.exports=function(a){e(this,"success",[a],c.$doc)}},{}],7:[function(a,b){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(4),f=a(6);d.fn.inViewport="undefined"!=typeof window?window.$.fn.inViewport:"undefined"!=typeof c?c.$.fn.inViewport:null;var g=b.exports=e.extend({_init:d.noop,parse:function(a){return a.inViewport({threshold:this.options.threshold,debounce:this.options.debounce,once:d.proxy(function(a){g._super.parse.call(this,a).done(d.proxy(f,this))},this)}),d.Deferred().resolve().promise()},destroy:function(){g._super.destroy.call(this),this.$el.inViewport("destroy")},defaults:d.extend(!0,{},e.prototype.defaults,{threshold:0,debounce:300})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(a,b){function c(a,b){function c(){}var e,f=this;return e=a&&a.hasOwnProperty("constructor")?a.constructor:function(){e._super.constructor.apply(this,arguments)},d(e,f,b),c.prototype=f.prototype,e.prototype=new c,e.prototype.constructor=e,e._super=f.prototype,a&&d(e.prototype,a),e}var d=a(9),e=b.exports=function(){};e.extend=c},{}],9:[function(a,b){function c(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a}b.exports=c},{}],10:[function(a,b){(function(a){var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports=function(a){return function(b,d,e,f){var g=b.dom&&b.dom.el||b.$el||c({});b.options[d]&&b.options[d].apply(1===g.length?g[0]:g.toArray(),e),(f||g).trigger(((a||"")+d).toLowerCase(),e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(a,b){(function(a){var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports=function(a){return function(b){return"string"==typeof b&&-1!==c.inArray(b,a||[])}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[2])(2)});