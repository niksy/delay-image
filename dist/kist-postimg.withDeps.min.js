/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*! kist-inview 0.3.0 - Check if elements are in viewport. | Author: Ivan Nikolić, 2014 | License: MIT */
!function(a,b){var c={},d="KistInView",e=!0,f=function(){c.defaults.windowElTop=c.defaults.domRefs.windowEl.scrollTop(),c.defaults.windowElBottom=c.defaults.windowElTop+c.defaults.domRefs.windowEl.height()};c.defaults={threshold:0,windowElTop:0,windowElBottom:0,domRefs:{windowEl:a(b)}},c.isInView=function(a,b){var d=a.offset().top,e=d+a.height();return e>=c.defaults.windowElTop-b&&d<=c.defaults.windowElBottom+b},c.getElementsInView=function(b,e){var g;return f(),e=e||c.defaults.threshold,b.filter(function(b,f){return g=a.data(f,d),c.isInView(g,e)})},a[d]={},a[d].recalculateViewport=f,a.fn[d]=function(b,g){switch(e===!0&&(f(),e=!1),this.each(function(){a.data(this,d)||a.data(this,d,a(this))}),b){case"isInView":return Boolean(c.getElementsInView(this,g).length);case"getElementsInView":return c.getElementsInView(this,g);default:throw new Error(d+": Method is either undefined or doesn’t exist.")}}}(jQuery,window,document);
/*! createCache */
$.createCache=function(a){var b={};return function(c,d){return b[c]||(b[c]=$.Deferred(function(b){a(b,c)}).promise()),b[c].done(d)}};
/*! loadImage */
$.loadImage=$.createCache(function(a,b){function c(){d.onload=d.onerror=null}var d=new Image;a.then(c,c),d.onload=function(){a.resolve(b)},d.onerror=a.reject,d.src=b});
/*! kist-postimg 0.1.0 - Load images via postpone or lazyload method. | Author: Ivan Nikolić, 2014 | License: MIT */
!function(a,b){var c={},d="KistPostimg",e="KistPostimg",f="kist.postimg",g=function(b,c){this._element=b,this.settings=a.extend({},this.defaults,c)};c.defaults={threshold:300,scrollTimeout:300,loadType:"postpone"},c.domRefs={windowEl:a(b)},c.init=function(){return this.checkPostImgStateDfd=a.Deferred(),this.getDomRefs(),a.when(this.checkPostImgState()).done(a.proxy(function(){this.bindUiActions(),this.fetchPostponedImages(),this.fetchLazyLoadedImages()},this)),this},c.getDomRefs=function(){this.domRefs=a.extend({},this.domRefs),this.domRefs.imagesEl=a(this._element)},c.bindUiActions=function(){this.domRefs.windowEl.on("scroll."+f,a.debounce(this.settings.scrollTimeout,a.proxy(this.fetchPostponedImages,this))),this.domRefs.windowEl.on("resize."+f,a.debounce(this.settings.scrollTimeout,a.proxy(this.fetchPostponedImages,this)))},c.checkPostImgState=function(){return this.domRefs.imagesEl.each(a.proxy(function(b,c){var d=a(c);Boolean(d.data("isPostImgAlreadySet"))===!1?d.data("isPostImgAlreadySet",!0):this.removeFromImageCollection(d)},this)),0!==this.domRefs.imagesEl.length?this.checkPostImgStateDfd.resolve():this.checkPostImgStateDfd.reject(),this.checkPostImgStateDfd.promise()},c.fetchPostponedImages=function(){if("postpone"===this.settings.loadType){var a=this.getVisibleImages();0!==a.length&&this.parseImages(a)}},c.fetchLazyLoadedImages=function(){"lazyload"===this.settings.loadType&&this.parseImages(this.domRefs.imagesEl)},c.parseImages=function(c){var d,f;if(d=c.filter(function(){return"undefined"!=typeof a(this).data("picture")}),f=c.filter(function(){return a(this).is("img")===!0}),0!==d.length){if(!b.hasOwnProperty("Picture"))throw new Error("Picture parser is not available.");b.Picture.parse(d.get())}else 0!==f.length&&f.each(function(b,c){var d=a(c);a.loadImage(d.data("src")).done(function(){d.attr("src",d.data("src")).attr("alt",d.data("alt")).removeAttr("width").removeAttr("height").addClass(e+"--is-loaded")})})},c.getVisibleImages=function(){var a;return a=this.domRefs.imagesEl.KistInView("getElementsInView",this.settings.threshold),this.domRefs.imagesEl=this.domRefs.imagesEl.not(a),a},c.addToImageCollection=function(b){this.domRefs.imagesEl=this.domRefs.imagesEl.add(a(b))},c.removeFromImageCollection=function(b){this.domRefs.imagesEl=this.domRefs.imagesEl.not(a(b))},a.extend(g.prototype,c),a[d]={},a[d].instances={},a[d].defaults=g.prototype.defaults,a[d].fetchAllImages=function(){for(var a in this.instances)this.instances.hasOwnProperty(a)&&(this.instances[a].fetchPostponedImages(),this.instances[a].fetchLazyLoadedImages())},a.fn[d]=function(b){return a[d].instances["instance"+(new Date).getTime()]=new g(this,b).init(),this}}(jQuery,window,document);