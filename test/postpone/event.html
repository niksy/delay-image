<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Postpone, multiple image sets</title>
	<link rel="stylesheet" href="../assets/style/style.css" />
</head>
<body>

	<div class="controls">
		<button type="button" class="destroy" data-instance="first-set">Destroy instance "first-set"</button><br />
		<button type="button" class="destroy" data-instance="second-set">Destroy instance "second-set"</button><br />
		<button type="button" class="destroy" data-instance="third-set">Destroy instance "third-set"</button><br />
		<button type="button" class="destroy" data-instance="fourth-set">Destroy instance "fourth-set"</button><br />
		<button type="button" class="destroy" data-instance="nonexistent-set">Destroy instance "nonexistent-set"</button>
	</div>

	<img class="first-set" data-src="http://farm4.staticflickr.com/3661/3366637773_7fc46dffbe.jpg" alt="" />
	<img class="first-set" data-src="http://farm4.staticflickr.com/3329/3521766128_90a7719f12.jpg" alt="" />
	<img class="first-set" data-src="http://farm4.staticflickr.com/3785/8935657788_73f5daa6e3.jpg" alt="" />
	<img class="first-set" data-src="http://farm4.staticflickr.com/3304/3655338482_bdab8415f9.jpg" alt="" />
	<img class="first-set" data-src="http://farm4.staticflickr.com/3452/3961281995_a46d6f27e1.jpg" alt="" />

	<img class="second-set" data-src="http://farm9.staticflickr.com/8251/8522154040_9ec4dcb982.jpg" alt="" />
	<img class="second-set" data-src="http://farm5.staticflickr.com/4024/4567925035_9a513b1c75.jpg" alt="" />
	<img class="second-set" data-src="http://farm3.staticflickr.com/2841/9244258769_a16703a46e.jpg" alt="" />

	<img class="third-set" data-src="http://farm2.staticflickr.com/1408/5170192357_dc1c163fb1_z.jpg" alt="" />
	<img class="third-set" data-src="http://farm8.staticflickr.com/7191/6813794686_968e2569cd_z.jpg" alt="" />
	<img class="third-set" data-src="http://farm2.staticflickr.com/1416/5170155619_b4c5d2e558_z.jpg" alt="" />
	<img class="third-set" data-src="http://farm2.staticflickr.com/1336/5170798574_0b1cfc8d88.jpg" alt="" />

	<img class="fourth-set" data-src="http://farm4.staticflickr.com/3256/2648651259_fd87e88916.jpg" alt="" />
	<img class="fourth-set" data-src="http://farm8.staticflickr.com/7330/9738398077_3800ac99ee.jpg" alt="" />
	<img class="fourth-set" data-src="http://farm8.staticflickr.com/7168/6799004729_f6bc1cbbc1.jpg" alt="" />
	<img class="fourth-set" data-src="http://farm8.staticflickr.com/7161/6798966357_7d59c92bec.jpg" alt="" />

	<script src="../../bower_components/jquery/dist/jquery.min.js"></script>
	<script src="../../bower_components/jquery-throttle-debounce/jquery.ba-throttle-debounce.min.js"></script>
	<script src="../../bower_components/kist-inView/dist/kist-inView.js"></script>
	<script src="../../bower_components/kist-loader/dist/kist-loader.min.js"></script>
	<script src="../../src/kist-delayImages.js"></script>

	<script>

		$(document)
			.on('delayimagesstart', function ( e, images ) {
				console.info('Start');
				console.log(e);
				console.log(images);
			})
			.on('delayimagessuccess', function ( e, images ) {
				console.info('Success');
				console.log(e);
				console.log(images);
			});

		$('.destroy').on('click', function ( e ) {
			$('.' + $(this).data('instance')).delayImages('destroy');
		});

		$('.first-set').delayImages({
			method: 'postpone',
			threshold: 300,
			debounce: 100,
			success: function ( images ) {
				if ( !+'\v1' ) {
					alert('first-set' + JSON.stringify(images, null, '\t'));
				} else {
					console.log( 'first-set' );
					console.log( images );
				}
			}
		});

		$('.second-set').delayImages({
			method: 'postpone',
			threshold: 1000,
			debounce: 1000,
			success: function ( images ) {
				if ( !+'\v1' ) {
					alert('second-set' + JSON.stringify(images, null, '\t'));
				} else {
					console.log( 'second-set' );
					console.log( images );
				}
			}
		});

		$('.third-set').delayImages({
			method: 'postpone',
			success: function ( images ) {
				if ( !+'\v1' ) {
					alert('third-set' + JSON.stringify(images, null, '\t'));
				} else {
					console.log( 'third-set' );
					console.log( images );
				}
			}
		});

		$('.fourth-set').delayImages({
			method: 'postpone',
			threshold: 100,
			debounce: 0,
			success: function ( images ) {
				if ( !+'\v1' ) {
					alert('fourth-set' + JSON.stringify(images, null, '\t'));
				} else {
					console.log( 'fourth-set' );
					console.log( images );
				}
			}
		});

		$('.nonexistent-set').delayImages({
			method: 'postpone',
			success: function ( images ) {
				if ( !+'\v1' ) {
					alert('nonexistent-set-set' + JSON.stringify(images, null, '\t'));
				} else {
					console.log( 'nonexistent-set' );
					console.log( images );
				}
			}
		});

		$('.first-set').delayImages({
			method: 'postpone',
			threshold: 300,
			debounce: 100,
			success: function ( images ) {
				console.log('First set, second time!');
			}
		});

	</script>

</body>
</html>
